{"version":3,"names":["_reactNative","require","_GenericTouchable","_interopRequireWildcard","React","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_defineProperty","value","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","TouchableOpacity","Component","constructor","childStyle","StyleSheet","flatten","props","style","opacity","Animated","Value","getChildStyleOpacityWithDefault","duration","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","_from","to","TOUCHABLE_STATE","BEGAN","setOpacityTo","activeOpacity","UNDETERMINED","MOVED_OUTSIDE","render","rest","createElement","onStateChange","children","View","exports","GenericTouchable","defaultProps"],"sources":["TouchableOpacity.tsx"],"sourcesContent":["import {\n  Animated,\n  Easing,\n  StyleSheet,\n  View,\n  TouchableOpacityProps,\n} from 'react-native';\nimport GenericTouchable, {\n  TOUCHABLE_STATE,\n  GenericTouchableProps,\n} from './GenericTouchable';\nimport * as React from 'react';\nimport { Component } from 'react';\n\n/**\n * TouchableOpacity bases on timing animation which has been used in RN's core\n */\nexport default class TouchableOpacity extends Component<\n  TouchableOpacityProps & GenericTouchableProps\n> {\n  static defaultProps = {\n    ...GenericTouchable.defaultProps,\n    activeOpacity: 0.2,\n  };\n\n  // opacity is 1 one by default but could be overwritten\n  getChildStyleOpacityWithDefault = () => {\n    const childStyle = StyleSheet.flatten(this.props.style) || {};\n    return childStyle.opacity == null ? 1 : childStyle.opacity;\n  };\n\n  opacity = new Animated.Value(this.getChildStyleOpacityWithDefault());\n\n  setOpacityTo = (value: number, duration: number) => {\n    Animated.timing(this.opacity, {\n      toValue: value,\n      duration: duration,\n      easing: Easing.inOut(Easing.quad),\n      useNativeDriver: false,\n    }).start();\n  };\n\n  onStateChange = (_from: number, to: number) => {\n    if (to === TOUCHABLE_STATE.BEGAN) {\n      this.setOpacityTo(this.props.activeOpacity!, 0);\n    } else if (\n      to === TOUCHABLE_STATE.UNDETERMINED ||\n      to === TOUCHABLE_STATE.MOVED_OUTSIDE\n    ) {\n      this.setOpacityTo(this.getChildStyleOpacityWithDefault(), 150);\n    }\n  };\n\n  render() {\n    const { style = {}, ...rest } = this.props;\n    return (\n      <GenericTouchable\n        {...rest}\n        style={[\n          style,\n          {\n            opacity: (this.opacity as unknown) as number, // TODO: fix this\n          },\n        ]}\n        onStateChange={this.onStateChange}>\n        {this.props.children ? this.props.children : <View />}\n      </GenericTouchable>\n    );\n  }\n}\n"],"mappings":"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"}