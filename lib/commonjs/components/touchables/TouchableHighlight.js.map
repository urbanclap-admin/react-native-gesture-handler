{"version":3,"names":["React","_interopRequireWildcard","require","_GenericTouchable","_reactNative","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_defineProperty","value","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","TouchableHighlight","Component","constructor","props","_this$props$onShowUnd","_this$props","hasPressHandler","setState","extraChildStyle","opacity","activeOpacity","extraUnderlayStyle","backgroundColor","underlayColor","onShowUnderlay","onPress","onPressIn","onPressOut","onLongPress","_this$props$onHideUnd","_this$props2","onHideUnderlay","_from","to","TOUCHABLE_STATE","BEGAN","showUnderlay","UNDETERMINED","MOVED_OUTSIDE","hideUnderlay","state","renderChildren","children","createElement","View","child","Children","only","cloneElement","style","StyleSheet","compose","render","rest","onStateChange","exports","GenericTouchable","defaultProps","delayPressOut"],"sources":["TouchableHighlight.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Component } from 'react';\nimport GenericTouchable, {\n  GenericTouchableProps,\n  TOUCHABLE_STATE,\n} from './GenericTouchable';\nimport {\n  StyleSheet,\n  View,\n  TouchableHighlightProps,\n  ColorValue,\n  ViewProps,\n} from 'react-native';\n\ninterface State {\n  extraChildStyle: null | {\n    opacity?: number;\n  };\n  extraUnderlayStyle: null | {\n    backgroundColor?: ColorValue;\n  };\n}\n\n/**\n * TouchableHighlight follows RN's implementation\n */\nexport default class TouchableHighlight extends Component<\n  TouchableHighlightProps & GenericTouchableProps,\n  State\n> {\n  static defaultProps = {\n    ...GenericTouchable.defaultProps,\n    activeOpacity: 0.85,\n    delayPressOut: 100,\n    underlayColor: 'black',\n  };\n\n  constructor(props: TouchableHighlightProps & GenericTouchableProps) {\n    super(props);\n    this.state = {\n      extraChildStyle: null,\n      extraUnderlayStyle: null,\n    };\n  }\n\n  // Copied from RN\n  showUnderlay = () => {\n    if (!this.hasPressHandler()) {\n      return;\n    }\n    this.setState({\n      extraChildStyle: {\n        opacity: this.props.activeOpacity,\n      },\n      extraUnderlayStyle: {\n        backgroundColor: this.props.underlayColor,\n      },\n    });\n    this.props.onShowUnderlay?.();\n  };\n\n  hasPressHandler = () =>\n    this.props.onPress ||\n    this.props.onPressIn ||\n    this.props.onPressOut ||\n    this.props.onLongPress;\n\n  hideUnderlay = () => {\n    this.setState({\n      extraChildStyle: null,\n      extraUnderlayStyle: null,\n    });\n    this.props.onHideUnderlay?.();\n  };\n\n  renderChildren() {\n    if (!this.props.children) {\n      return <View />;\n    }\n\n    const child = React.Children.only(\n      this.props.children\n    ) as React.ReactElement<ViewProps>; // TODO: not sure if OK but fixes error\n    return React.cloneElement(child, {\n      style: StyleSheet.compose(child.props.style, this.state.extraChildStyle),\n    });\n  }\n\n  onStateChange = (_from: number, to: number) => {\n    if (to === TOUCHABLE_STATE.BEGAN) {\n      this.showUnderlay();\n    } else if (\n      to === TOUCHABLE_STATE.UNDETERMINED ||\n      to === TOUCHABLE_STATE.MOVED_OUTSIDE\n    ) {\n      this.hideUnderlay();\n    }\n  };\n\n  render() {\n    const { style = {}, ...rest } = this.props;\n    const { extraUnderlayStyle } = this.state;\n    return (\n      <GenericTouchable\n        {...rest}\n        style={[style, extraUnderlayStyle]}\n        onStateChange={this.onStateChange}>\n        {this.renderChildren()}\n      </GenericTouchable>\n    );\n  }\n}\n"],"mappings":"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"}